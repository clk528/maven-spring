(function(a){a("a[name=register]").click(function(){layer.open({content:'<div class="form-horizontal" id="clkDialog"><div class="form-group"><label for="inputUser" class="col-sm-4 control-label">\u7528\u6237\u540d\uff1a</label><div class="col-sm-8"><input type="text" id="inputUser" class="form-control" placeholder="\u7528\u6237\u540d" data-util="1"></div></div><div class="form-group"><label for="inputEmail" class="col-sm-4 control-label">\u90ae\u7bb1\uff1a</label><div class="col-sm-8"><input type="text" id="inputEmail" class="form-control" placeholder="\u90ae\u7bb1"></div></div><div class="form-group"><label for="inputPassworda" class="col-sm-4 control-label">\u5bc6\u7801\uff1a</label><div class="col-sm-8"><input type="password" id="inputPassworda" class="form-control" placeholder="\u5bc6\u7801" data-util="1"></div></div><div class="form-group"><label for="inputRepassword" class="col-sm-4 control-label">\u91cd\u590d\u5bc6\u7801\uff1a</label><div class="col-sm-8"><input type="password" id="inputRepassword" class="form-control" placeholder="\u91cd\u590d\u5bc6\u7801" data-util="1"></div></div><div class="form-group"><label class="col-sm-3 control-label"></label><div class="col-sm-8"><button id="register" class="btn btn-primary">\u7acb\u5373\u6ce8\u518c</button></div></div></div>',skin:"layui-layer-molv",title:"\u6ce8\u518c",shade:[.8,"#000"],area:["360px","330px"],move:!1,btn:!1,success:function(){a("div.layui-layer-shade")[0].style.pointerEvents="none"}})});a(document).on("keyup","input[data-util]",function(){var b="~!@#$%^&*()_-+".split(""),c;for(c in b)if(-1!=this.value.indexOf(b[c])){layer.tips("\u4e0d\u80fd\u542b\u6709`"+b[c]+"`\u7b49\u5b57\u773c",this);this.style.borderColor="red";a("#register").attr("disabled","true");break}else a("#register").removeAttr("disabled"),this.style.borderColor=""});a(document).on("change","#inputEmail",function(){if(/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/.test(this.value))a("#register").removeAttr("disabled"),this.style.borderColor="";else return this.style.borderColor="red",a("#register").attr("disabled","true"),layer.tips("\u90ae\u7bb1\u683c\u5f0f\u4e0d\u6b63\u786e",this)});a(document).on("click","#register",function(){var b=a("#inputUser").val(),c=a("#inputEmail").val(),d=a("#inputPassworda").val(),e=a("#inputRepassword").val();return isEmpty(b)?(b=a("#inputUser")[0],b.style.borderColor="red",layer.tips("\u4e0d\u80fd\u4e3a\u7a7a",b)):isEmpty(c)?(b=a("#inputEmail")[0],b.style.borderColor="red",layer.tips("\u4e0d\u80fd\u4e3a\u7a7a",b)):isEmpty(d)?(b=a("inputPassworda")[0],b.style.borderColor="red",layer.tips("\u4e0d\u80fd\u4e3a\u7a7a",b)):isEmpty(e)?(b=a("inputRepassword")[0],b.style.borderColor="red",layer.tips("\u4e0d\u80fd\u4e3a\u7a7a",b)):d!=e?layer.alert("\u4e24\u6b21\u5bc6\u7801\u4e0d\u5bf9"):http_clent("/handle/register",{nick:b,pass:d,email:c},function(a){layer.msg("\u6ce8\u518c\u6210\u529f")},function(a){layer.msg("\u6ce8\u518c\u5931\u8d25")})});a("form.form-horizontal").submit(function(){var b=!1,c=a.trim(a("input[name=J_user]").val()),d=a.trim(a("input[name=J_pwd]").val());if(isEmpty(c))return layer.alert("\u5e10\u53f7\u4e3a\u7a7a",{icon:2}),!1;if(isEmpty(d))return layer.alert("\u5bc6\u7801\u4e3a\u7a7a",{icon:2}),!1;layer.load();d=Encrypt.RSAUnit.encryptToRSA("MIICXgIBAAKBgQDE9GQeZdR6Qoqtm07+zdWxX4PiQz48+PWIyxHrqvr88qS4peCsmL9kz0rTEwUI2pykurlYB3b1e+yOw9Nnpf2rE4OqFRuDleUS2/dvyAgxlYFsQlhTrjpY82Jy55V3+Uj2nsHX0tf4M7qr2U+UQA1md/Pmd+7MWRZ6ORuj67BPcQIDAQABAoGBAJ+o2iyGMfu2S4M2npASPkPegSP/jMmSrEBrFijsXzCEZqHE3mAsJyNKo4Z+KZum1Er5j1xcGMQh5H9LIeoo9nu2k/S7zRckY+ieCZ+2J8T+fsagpU0wPd5DShzQfCqakMlUAWLOZ14BXShq6/8Bo8TDJjjkq7ztW1kwTefuzimtAkEA8LARaGW5u/3W3LieTCcJtqlx1a1G2tpWgxnkfhSZDkNWCRQ++wluxS4zM3kZ6F7AzDCjk5ZT5kSa0JBO8vvO4wJBANF8Ea56ugZCNJnHL+RNTzfegv9KRzIzaRqVAiS1LnhmKN8QBgZZZgQflx2eHBnsOjrmjEpAg59bcTobRy/PhJsCQHx8FATS2EWK/F4cfoMUjcmTyfSiMktvMd+MvMkZDjB6Uz1O42QjdM83HfQ5ZlTw7PavEWt8DNjEEu5cNPknk9ECQQCGRcczlhicoF0E4GazKFaJkgdXSS3/YHKTBkW8b6GcrKav655g/XZlWDZNVqXee8sLK/FqOpXjVAJsY0WqwJHXAkEAyMBl3x70ERChQCyoCjHcPC8YpqjgwBwT/AOTBRC75z22OHYV7WkJ67SBk5TH2XoiTO7KWsvm5ktkAS/Hf/Q5rg==",d);a.ajax({type:"post",url:"/Login/checkAccount",data:{account:c,password:d},cache:!1,async:!1}).done(function(c){layer.closeAll();1==c.code?(a("input[name=J_pwd]").val(""),b=!0):(b=!1,layer.alert(c.message,{icon:2}))}).fail(function(){layer.closeAll();b=!1});return b});a.backstretch(["/assets/img/bg/1.jpg","/assets/img/bg/2.jpg","/assets/img/bg/3.jpg","/assets/img/bg/4.jpg","/assets/img/bg/5.jpg"],{fade:1E3,duration:8E3})})(jQuery);